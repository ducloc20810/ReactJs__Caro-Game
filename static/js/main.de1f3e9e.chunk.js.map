{"version":3,"sources":["components/Square.js","assets/javascripts/custom.js","components/Board.js","App.js","index.js"],"names":["Square","clickHandle","id","className","onClick","event","checkWinner","squares","target","maxRow","maxCol","i","j","parseInt","posRow","posCol","findPos","console","log","fullRow","count","classList","contains","checkRow","fullCol","checkCol","fullDiagonal","countLeft","countRight","checkDiagonal","Board","useState","currentPlayer","setCurrentPlayer","setCount","winner","setWinner","squares2D","setSquares2D","useEffect","document","querySelectorAll","squaresIndex","temp","push","oldSquare","resetState","resetGame","forEach","square","remove","alert","e","preventDefault","clickSquare","add","currentCount","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.de1f3e9e.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default function Square({ clickHandle }) {\r\n  return (\r\n    <>\r\n      <div\r\n        id=\"1\"\r\n        className=\"chess-board__square\"\r\n        onClick={(event) => {\r\n          clickHandle(event);\r\n        }}\r\n      ></div>\r\n\r\n      <div\r\n        id=\"2\"\r\n        className=\"chess-board__square\"\r\n        onClick={(event) => {\r\n          clickHandle(event);\r\n        }}\r\n      ></div>\r\n\r\n      <div\r\n        id=\"3\"\r\n        className=\"chess-board__square\"\r\n        onClick={(event) => {\r\n          clickHandle(event);\r\n        }}\r\n      ></div>\r\n      <div\r\n        id=\"4\"\r\n        className=\"chess-board__square\"\r\n        onClick={(event) => {\r\n          clickHandle(event);\r\n        }}\r\n      ></div>\r\n      <div\r\n        id=\"5\"\r\n        className=\"chess-board__square\"\r\n        onClick={(event) => {\r\n          clickHandle(event);\r\n        }}\r\n      ></div>\r\n      <div\r\n        id=\"6\"\r\n        className=\"chess-board__square\"\r\n        onClick={(event) => {\r\n          clickHandle(event);\r\n        }}\r\n      ></div>\r\n      <div\r\n        id=\"7\"\r\n        className=\"chess-board__square\"\r\n        onClick={(event) => {\r\n          clickHandle(event);\r\n        }}\r\n      ></div>\r\n      <div\r\n        id=\"8\"\r\n        className=\"chess-board__square\"\r\n        onClick={(event) => {\r\n          clickHandle(event);\r\n        }}\r\n      ></div>\r\n      <div\r\n        id=\"9\"\r\n        className=\"chess-board__square\"\r\n        onClick={(event) => {\r\n          clickHandle(event);\r\n        }}\r\n      ></div>\r\n    </>\r\n  );\r\n}\r\n","export function findPos(target, maxRow, maxCol) {\r\n  let id = 1;\r\n  let posRow = 0;\r\n  let posCol = 0;\r\n  for (let i = 0; i < maxRow; i++) {\r\n    for (let j = 0; j < maxCol; j++) {\r\n      if (parseInt(target.id) === id) {\r\n        posRow = i;\r\n        posCol = j;\r\n        return { posRow, posCol };\r\n      }\r\n      id++;\r\n    }\r\n  }\r\n}\r\n\r\nexport function checkRow(squares, target, posRow, posCol, maxCol) {\r\n  let count = 1;\r\n  for (let j = posCol + 1; j < maxCol; ++j) {\r\n    if (target.classList.contains(\"chess-board__square--o\")) {\r\n      if (squares[posRow][j].classList.contains(\"chess-board__square--o\"))\r\n        count++;\r\n    } else {\r\n      if (squares[posRow][j].classList.contains(\"chess-board__square--x\"))\r\n        count++;\r\n    }\r\n  }\r\n\r\n  for (let j = posCol - 1; j >= 0; --j) {\r\n    if (target.classList.contains(\"chess-board__square--o\")) {\r\n      if (squares[posRow][j].classList.contains(\"chess-board__square--o\"))\r\n        count++;\r\n    } else {\r\n      if (squares[posRow][j].classList.contains(\"chess-board__square--x\"))\r\n        count++;\r\n    }\r\n  }\r\n  if (count === maxCol) return true;\r\n}\r\n\r\nexport function checkCol(squares, target, posRow, posCol, maxRow) {\r\n  let count = 1;\r\n  for (let j = posRow + 1; j < maxRow; ++j) {\r\n    if (target.classList.contains(\"chess-board__square--o\")) {\r\n      if (squares[j][posCol].classList.contains(\"chess-board__square--o\"))\r\n        count++;\r\n    } else {\r\n      if (squares[j][posCol].classList.contains(\"chess-board__square--x\"))\r\n        count++;\r\n    }\r\n  }\r\n\r\n  for (let j = posRow - 1; j >= 0; --j) {\r\n    if (target.classList.contains(\"chess-board__square--o\")) {\r\n      if (squares[j][posCol].classList.contains(\"chess-board__square--o\"))\r\n        count++;\r\n    } else {\r\n      if (squares[j][posCol].classList.contains(\"chess-board__square--x\"))\r\n        count++;\r\n    }\r\n  }\r\n  if (count === maxRow) return true;\r\n}\r\n\r\nfunction checkDiagonal(squares, target, posRow, posCol, maxRow, maxCol) {\r\n  let countLeft = 1;\r\n  let countRight = 1;\r\n  // Chéo trái xuống\r\n  for (let i = posRow + 1, j = posCol - 1; i < maxRow && j >= 0; ++i, --j) {\r\n    if (target.classList.contains(\"chess-board__square--o\")) {\r\n      if (squares[i][j].classList.contains(\"chess-board__square--o\"))\r\n        countLeft++;\r\n    } else {\r\n      if (squares[i][j].classList.contains(\"chess-board__square--x\"))\r\n        countLeft++;\r\n    }\r\n  }\r\n\r\n  // Chéo trái lên\r\n\r\n  for (let i = posRow - 1, j = posCol + 1; i >= 0 && j < maxCol; --i, ++j) {\r\n    console.log(i, j);\r\n    if (target.classList.contains(\"chess-board__square--o\")) {\r\n      if (squares[i][j].classList.contains(\"chess-board__square--o\"))\r\n        countLeft++;\r\n    } else {\r\n      if (squares[i][j].classList.contains(\"chess-board__square--x\"))\r\n        countLeft++;\r\n    }\r\n  }\r\n\r\n  // Chéo phải xuống\r\n  for (let i = posRow + 1, j = posCol + 1; i < maxRow && j < maxCol; ++i, ++j) {\r\n    if (target.classList.contains(\"chess-board__square--o\")) {\r\n      if (squares[i][j].classList.contains(\"chess-board__square--o\"))\r\n        countRight++;\r\n    } else {\r\n      if (squares[i][j].classList.contains(\"chess-board__square--x\"))\r\n        countRight++;\r\n    }\r\n  }\r\n\r\n  // Chéo phải lên\r\n  for (let i = posRow - 1, j = posCol - 1; i >= 0 && j >= 0; --i, --j) {\r\n    if (target.classList.contains(\"chess-board__square--o\")) {\r\n      if (squares[i][j].classList.contains(\"chess-board__square--o\"))\r\n        countRight++;\r\n    } else {\r\n      if (squares[i][j].classList.contains(\"chess-board__square--x\"))\r\n        countRight++;\r\n    }\r\n  }\r\n\r\n  console.log(\"--------------------------------\");\r\n  if (countRight === maxRow || countLeft === maxRow) return true;\r\n}\r\nexport function checkWinner(squares, target, maxRow, maxCol) {\r\n  const { posRow, posCol } = findPos(target, maxRow, maxCol);\r\n  console.log(posRow, posCol);\r\n  const fullRow = checkRow(squares, target, posRow, posCol, maxCol);\r\n  if (fullRow) return 1;\r\n  const fullCol = checkCol(squares, target, posRow, posCol, maxRow);\r\n  if (fullCol) return 1;\r\n  const fullDiagonal = checkDiagonal(\r\n    squares,\r\n    target,\r\n    posRow,\r\n    posCol,\r\n    maxRow,\r\n    maxCol\r\n  );\r\n  if (fullDiagonal) return 1;\r\n  return 0;\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Square from \"./Square\";\r\nimport { checkWinner } from \"../assets/javascripts/custom\";\r\nexport default function Board() {\r\n  const maxRow = 3;\r\n  const maxCol = 3;\r\n  const [currentPlayer, setCurrentPlayer] = useState(1);\r\n  const [count, setCount] = useState(0);\r\n  const [winner, setWinner] = useState(0);\r\n\r\n  // Tao mang 2 chieu tuong duong voi ban co\r\n  const [squares2D, setSquares2D] = useState([]);\r\n  useEffect(() => {\r\n    const squares = document.querySelectorAll(\".chess-board__square\");\r\n    let squaresIndex = 0;\r\n    for (let i = 0; i < maxRow; i++) {\r\n      const temp = [];\r\n      for (let j = 0; j < maxCol; j++) {\r\n        temp.push(squares[squaresIndex++]);\r\n      }\r\n      setSquares2D((oldSquare) => [...oldSquare, temp]);\r\n    }\r\n  }, []);\r\n\r\n  // Reset cac State\r\n  const resetState = () => {\r\n    setCurrentPlayer(1);\r\n    setCount(0);\r\n    setWinner(0);\r\n  };\r\n\r\n  // Reset Game\r\n  const resetGame = () => {\r\n    const squares = document.querySelectorAll(\".chess-board__square\");\r\n    squares.forEach((square) => {\r\n      if (square.classList.contains(\"chess-board__square--x\"))\r\n        square.classList.remove(\"chess-board__square--x\");\r\n      else square.classList.remove(\"chess-board__square--o\");\r\n    });\r\n  };\r\n\r\n  // Xử lí có người chiến thắng\r\n  useEffect(() => {\r\n    if (winner === 1) {\r\n      alert(\"Player 1 đã chiến thắng\");\r\n      resetGame();\r\n      resetState();\r\n    } else {\r\n      if (winner === 2) alert(\"Player 2 đã chiến thắng\");\r\n      resetGame();\r\n      resetState();\r\n    }\r\n\r\n    return;\r\n  }, [winner]);\r\n\r\n  // Xử lí hết game\r\n  useEffect(() => {\r\n    if (count === 9) {\r\n      alert(\"Trò chơi đã kết thúc\");\r\n      resetGame();\r\n      resetState();\r\n      return;\r\n    }\r\n  }, [count]);\r\n\r\n  const clickHandle = (e) => {\r\n    e.preventDefault();\r\n\r\n    const clickSquare = e.target;\r\n\r\n    //Khong them class neu div cha bi bam\r\n    // if (clickSquare.classList.contains(\"chess-board\")) return;\r\n\r\n    //Khong cho nguoi dung bam neu o do da duoc danh\r\n    if (\r\n      clickSquare.classList.contains(\"chess-board__square--x\") ||\r\n      clickSquare.classList.contains(\"chess-board__square--o\")\r\n    )\r\n      return;\r\n\r\n    //Doi player\r\n    if (currentPlayer === 1) {\r\n      clickSquare.classList.add(\"chess-board__square--x\");\r\n      const hasWinner = checkWinner(squares2D, clickSquare, 3, 3);\r\n      if (hasWinner) setWinner(1);\r\n      setCurrentPlayer(2);\r\n    } else if (currentPlayer === 2) {\r\n      clickSquare.classList.add(\"chess-board__square--o\");\r\n      const hasWinner = checkWinner(squares2D, clickSquare, 3, 3);\r\n      if (hasWinner) setWinner(2);\r\n      setCurrentPlayer(1);\r\n    }\r\n    let currentCount = count;\r\n    currentCount++;\r\n    setCount(currentCount);\r\n  };\r\n\r\n  // const clickHandle = (e) => {\r\n  //   console.log(e);\r\n  //   let stage = currentPlayer;\r\n  //   setCurrentPlayer(++stage);\r\n  // };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"chess-board\">\r\n        <Square clickHandle={clickHandle} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import \"./App.css\";\nimport Board from \"./components/Board\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Board />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}